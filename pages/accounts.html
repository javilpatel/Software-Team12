<!DOCTYPE html>
<html>
    <head>
        <title>Bestest Buy/accounts</title>
    </head>
    
    <body>
        <h1>Accounts</h1>
        <button onclick="buttonFunc1()">Sign In</button>
        <button onclick="buttonFunc2()">Create Account</button>

        <form method=" post"
        action="">
        <fieldset hidden id="Signin">
            <legend>Sign in</legend>
            <p>
                <label>Username: <input type="text"
                id="signinUsername" onblur="validUser()"
                placeholder = "Enter your username" 
                title="Enter a valid username">

                </label>
            </p>
            <p>
                <label>Password: <input type="password"
                id="signinPassword" onblur="validPassword()"
                placeholder = "Enter your password"
                title="Enter the password corresponding to your username">
                </label>
            </p>
            <input type="submit" value="Sign In" onclick="signin()">
        </fieldset>
        </form>

        <form method= "post"
        action="">
        <fieldset hidden id="CreateAcct">
            <legend>Create New Account</legend>
            <p>
                <label for="emailAddr">Your Email:</label>
                <input type="text"
                name="emailAddr"
                placeholder = "Email"
                title = "A verification will be sent to your email account"
                minlength="8" 
                size="25">
            </p>

            <p>
                <label for="username">Username:</label>
                <input type="text"
                name="username" onblur="checkUsername()"
                placeholder = "Username"
                title = "Enter your desired username"
                minlength="8" 
                size="25">
            </p>

            <p>
                <label for="password">Password:</label> 
                <input type="password"    
                name="password" onblur="checkPassword()"
                placeholder = "Password"
                title = "Must be at least 8 characters and at least 1 letter, number and symbol"
                minlength="8" 
                size="25" >
            </p>

            <p>
                <label>Retype Password: </label> 
                <input type="password"
                name="password2" onblur="checkPasswordMatch()"
                placeholder = "Retype password"
                title = "Must match above password "
                minlength="8" size="25">
            </p>

            <input type="submit" 
            value="Create Account" 
            onclick="createAccount()"
            title="Click to create your new account">

        </fieldset>
        </form>

        <script>
            //src = "JS_sources/accounts.js"
            //src = "accounts.js"
            
            var buttonFunc1 = function()
            {
                document.getElementById("CreateAcct").hidden = true;
                document.getElementById("Signin").hidden = false;
            }

            var buttonFunc2 = function()
            {
                document.getElementById("Signin").hidden = true;
                document.getElementById("CreateAcct").hidden = false;
            }

            
            function validUser()
            {
                
            }

            function validPassword()
            {
                
            }

            
            function checkUsername()
            {
                
            }
            
            function checkPassword()
            {
                
            }

            function checkPasswordMatch()
            {
                p1 = form.elements["password"];
                p2 = form.elements["password2"];

                //if (p1 != p2)
                    
            }

            function signin()
            {
                user = form.elements["signinUsername"];
                alert("Hello" + user);
            }
            /*
            function createAccount(request, response, body)
            {
                let resMsg = {};
                request.on("end", function()
                {
                    try{
                        newAccount = JSON.parse(body);
                        sqlStatement = 
                        "INSERT INTO accounts VALUES ("+ "... );";
                    dbCon.query(sqlStatement,function(err, result))
                    {
                        if (err)
                        {
                            resMsg.code = 503;
                            resMsg.message = "Service Unavailable";
                            resMsg.body = 
                                "MySQL server error: CODE = " + err.code + 
                                "SQL of the failed query:" + err.sql + 
                                "Text description:" + err.sqlMessage;
                                
                        }
                    }
                    }
                    catch (ex) {
                        resMsg.code = 500;
                        resMsg.message = "Server Error";
                    }
                    return resMsg;
                }
                )
            }
            */

        </script>
        <a href="/">Home</a>
    </body>
</html>