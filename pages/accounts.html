<!DOCTYPE html>
<html>
    <head>
        <title>Bestest Buy/accounts</title>
    </head>
    
    <body>
        <h1>Accounts</h1>
        <button onclick="buttonFunc1()">Sign In</button>
        <button onclick="buttonFunc2()">Create Account</button>

        <form method=" post"
        action="">
        <fieldset hidden id="Signin">
            <legend>Sign in</legend>
            <p>
                <label>Username: <input type="text"
                id="signinUsername" onblur="validUser()"
                placeholder = "Enter your username" />
                </label>
            </p>
            <p>
                <label>Password: <input type="password"
                id="signinPassword" onblur="validPassword()"
                placeholder = "Enter your password" />
                </label>
            </p>
            <input type="submit" value="Sign In" onclick="signin()">
        </fieldset>
        </form>

        <form method=" post"
        action="">
        <fieldset hidden id="CreateAcct">
            <legend>Create New Account</legend>
            <p>
                <label>Email Address: <input type="email"
                id="emailAddr"
                placeholder = "Verification email will be sent to your address" />
                </label>
            </p>
            <p>
                <label>Username: <input type="text"
                id="username" onblur="checkUsername()"
                placeholder = "Must be at leat 8 characters" />
                </label>
            </p>
            <p>
                <label>Password: <input type="password"
                id="password" onblur="checkPassword()"
                placeholder = "Must be 8 characters long and include at least 1 letter number and symbol" />
                </label>
            </p>
            <p>
                <label>Retype Password: <input type="password"
                id="retype password" onblur="checkPasswordMatch()"
                placeholder = "Passwords must match" />
                </label>
            </p>
            <input type="submit" value="Create Account" onclick="createAccount()">

        </fieldset>
        </form>

        <script>
            //src = "JS_sources/accounts.js"
            //src = "accounts.js"
            
            var buttonFunc1 = function()
            {
                document.getElementById("CreateAcct").hidden = true;
                document.getElementById("Signin").hidden = false;
            }

            var buttonFunc2 = function()
            {
                document.getElementById("Signin").hidden = true;
                document.getElementById("CreateAcct").hidden = false;
            }

            
            function validUser()
            {
                
            }

            function validPassword()
            {
                
            }

            
            function checkUsername()
            {
                
            }
            
            function checkPassword()
            {
                
            }

            function checkPasswordMatch()
            {
                p1 = document.getElementById("password")
                p2 = document.getElementById("retype password")

                //if (p1 != p2)
                    
            }
            /*
            function createAccount(request, response, body)
            {
                let resMsg = {};
                request.on("end", function()
                {
                    try{
                        newAccount = JSON.parse(body);
                        sqlStatement = 
                        "INSERT INTO accounts VALUES ("+ "... );";
                    dbCon.query(sqlStatement,function(err, result))
                    {
                        if (err)
                        {
                            resMsg.code = 503;
                            resMsg.message = "Service Unavailable";
                            resMsg.body = 
                                "MySQL server error: CODE = " + err.code + 
                                "SQL of the failed query:" + err.sql + 
                                "Text description:" + err.sqlMessage;
                                
                        }
                    }
                    }
                    catch (ex) {
                        resMsg.code = 500;
                        resMsg.message = "Server Error";
                    }
                    return resMsg;
                }
                )
            }
            */

        </script>
        <a href="/">Home</a>
    </body>
</html>